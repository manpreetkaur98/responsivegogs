function offCanvasTackling(){$(".navbar-toggler").is(":visible")?$("#nav-global").addClass("offcanvas-collapse").removeClass("collapse"):$("#nav-global").hasClass("offcanvas-collapse")&&$("#nav-global").removeClass("offcanvas-collapse").removeClass("collapse")}$(function(){$(".navbar-toggler").on("click",function(){$(".offcanvas-collapse").toggleClass("open");$("#modal-shader, .navbar-toggler-icon, .navbar-close-icon").toggleClass("d-none")});$(window).resize(function(){offCanvasTackling()});offCanvasTackling();$("#cookie-policy-accept").on("click",function(n){n.preventDefault();$.get("/Services/Accept-Privacy-Policy").done(function(){}).fail(function(){}).always(function(){});$("#cookieInfo").fadeOut(350)});$.scrollTo=function(n){$("html, body").animate({scrollTop:$(n).offset().top-100},500)};$("#subscribe-button").on("click",function(n){n.preventDefault();$("#newsletter-footer").children("div").hide();$("#subscribe-loading").show();$.getJSON("/Services/Subscribe",{email:$("#subscribe-email").val()}).done(function(n){n?$.subscribeFTW():$.subscribeFail()}).fail(function(){$.subscribeFail()})});$.subscribeFTW=function(){$("#subscribe-loading").fadeOut(350,function(){$("#subscribe-message").text("Thank You for Subscribing!").show()})};$.subscribeFail=function(){$("#subscribe-loading").fadeOut(350,function(){$("#subscribe-message").text("An Error occured, please check your email address and try again.").show();$("#subscribe-form").show()})}});var gibson=new Vue({el:"#gibson-nav-cart",data:{cart:null,cartUpdating:!1},computed:{isCartReady:function(){return this.cart!==null},isEmptyCart:function(){return!this.cart||!this.cart.SKUs||this.cart.SKUs.length===0},hasCartErrors:function(){return this.cart&&this.cart.FailedSKUs&&this.cart.FailedSKUs.length>0},checkoutUrl:function(){return this.cart?`/Store/Checkout/${this.cart.id}`:"/Store/Checkout"},itemCount:function(){var n=0,t;if(!this.isCartReady||this.isEmptyCart||!this.cart.SKUs)return n;for(t in this.cart.Items)n+=this.cart.Items[t];return n},hasGtag:function(){return typeof gtag=="function"}},mounted:function(){this.initializeCart();docCookies.getItem("Gibson-Country")===null&&axios.get("/Services/Country")},methods:{stripNonAlphaNumChars:n=>n.replace(/[^0-9a-z]/gi,""),getDollarAmount:n=>n/100,getDisplayPrice:n=>{var i=gibson.cart.Currency?gibson.cart.Currency:"USD",t=n.find(n=>n.Currency===i);return t?t.DirectDisplayPrice:""},getItemUrl:n=>n&&n.GuitarSpecificationId?`${window.location.origin}/Guitar/${n.GuitarSpecificationId}`:n&&n.ProductId?`${window.location.origin}/Gear/${n.ProductId}`:"",handleAxiosError:function(n){appInsights.trackException({exception:n})},getCartId:function(){return this.cart?this.cart.id:docCookies.getItem("Gibson-Cart-v2")},addToCart:function(n,t=1,i,r){this.cartUpdating=!0;axios.get("/Store/Add-To-Cart",{params:{cartId:this.getCartId(),sku:n,quantity:t}}).then(r=>{if(this.cart=r.data,this.hasGtag){var u=t>0?"add_to_cart":"remove_from_cart";gtag("event",u,{items:[{id:n,quantity:t}]})}i&&i(r.data)}).catch(n=>{this.handleAxiosError(n),r&&r(n)}).then(()=>{this.cartUpdating=!1})},wipeCart:function(){this.cartUpdating=!0;var n="USD",t="US-Nashville";this.cart&&this.cart.Currency&&(n=this.cart.Currency);this.cart&&this.cart.InventoryLocation&&(t=this.cart.InventoryLocation);axios.get("/Store/Reset-Cart",{params:{currency:n,inventoryLocation:t}}).then(n=>{gibson.cart=n.data}).catch(n=>gibson.handleAxiosError(n)).then(()=>{gibson.cartUpdating=!1})},getCart:function(){return axios.get("/Store/Get-Cart",{params:{cartId:this.getCartId()}})},initializeCart:function(){this.cartUpdating=!0;this.getCart().then(n=>{this.cart=n.data}).catch(n=>this.handleAxiosError(n)).then(()=>{this.cartUpdating=!1})},defaultImageFix:function(n){n.target.src="https://static.gibson.com/gibson-web/shared/finish-tile-coming-soon-64x64.png"},getRelatedGuitars:(n,t,i)=>axios.get("/Guitars/Related",{params:{exclude:n,collection:t,division:i}})}});